/**
 * IBL5 Base Styles
 *
 * Essential global styles that cannot be achieved with Tailwind utilities:
 * - CSS reset and box-sizing (@layer base)
 * - Body/HTML overflow management (@layer base)
 * - Legacy PHP-Nuke element normalization (@layer base)
 * - Legacy PHP-Nuke class compatibility (@layer base)
 * - Mobile forced layouts for legacy tables (@layer components)
 *
 * Note: Utility classes like .text-center, .font-bold, .bg-white, etc.
 * are provided by Tailwind CSS and should NOT be duplicated here.
 */

/* ==========================================================================
   CSS Reset & Box Sizing — @layer base
   ========================================================================== */

@layer base {

*, *::before, *::after {
    box-sizing: border-box;
}

html {
    overflow-x: clip;
    /* Accessibility: Scale up base font size for better readability */
    font-size: 112.5%; /* 18px base instead of 16px */
}

body {
    width: 100%;
    max-width: 100%;
    position: relative;
    padding-top: 84px; /* Space for fixed navigation (72px nav + 12px breathing room) */
    font-family: var(--font-sans);
    font-size: 1rem;
    margin: 0;
}

} /* end @layer base (reset) */

/* ==========================================================================
   Legacy PHP-Nuke Styles — @layer base
   ========================================================================== */

@layer base {

/* --- Element Normalization ---
   These styles normalize deprecated HTML elements that still exist in
   legacy PHP-Nuke code. They ensure consistent font rendering across
   the old codebase while we transition to modern HTML/CSS. */

FONT,
TD,
P,
FORM {
    font-family: var(--font-sans);
    font-size: 1rem;
}

INPUT,
TEXTAREA,
SELECT {
    border: 1px solid #000000;
    font-size: 1rem;
    font-family: var(--font-sans);
}

/* --- Link Styles ---
   PHP-Nuke uses explicit link states. These provide baseline styling
   that individual components can override. */

A:link,
A:active,
A:visited {
    background: none;
    color: #363636;
    text-decoration: underline;
}

A:hover {
    background: none;
    color: #363636;
    text-decoration: underline;
}

/* --- PHP-Nuke Classes ---
   These classes are used by core PHP-Nuke modules and cannot be removed
   without refactoring the entire CMS. They provide backward compatibility. */

.title {
    background: none;
    color: #000000;
    font-size: 1.5rem;
    font-weight: bold;
    font-family: var(--font-display);
    text-decoration: none;
}

.content {
    background: none;
    color: #000000;
    font-size: 1rem;
    font-family: var(--font-sans);
}

.storytitle {
    background: none;
    color: #363636;
    font-size: 1.5rem;
    font-weight: bold;
    font-family: var(--font-display);
    text-decoration: none;
}

.storycat {
    background: none;
    color: #363636;
    font-size: 1rem;
    font-weight: bold;
    font-family: var(--font-display);
    text-decoration: underline;
}

.option {
    background: none;
    color: #000000;
    font-size: 1rem;
    font-weight: bold;
    font-family: var(--font-sans);
    text-decoration: none;
}

.tiny {
    background: none;
    color: #000000;
    font-size: 1rem;
    font-weight: normal;
    font-family: var(--font-sans);
    text-decoration: none;
}

/* --- Layout Constraints ---
   Prevent legacy table-based layouts from causing horizontal overflow. */

table,
center {
    max-width: 100%;
    overflow-x: auto;
}

img {
    max-width: 100%;
    height: auto;
}

/* Legacy centerbox containers */
.ibl-centerbox,
.ibl-centerbox__content {
    max-width: 100%;
    overflow: hidden;
}

} /* end @layer base (legacy) */

/* ==========================================================================
   Mobile Layout Fixes for Legacy Tables — @layer components

   PHP-Nuke uses nested tables for layout. These rules force them to
   stack vertically on mobile devices. Uses @layer components so they
   beat base styles without needing !important. Higher specificity +
   later source order ensures they override other component rules.
   ========================================================================== */

@layer components {

@media (max-width: 768px) {
    body > table,
    body > table > tbody,
    body > table > tbody > tr,
    body > table > tbody > tr > td {
        display: block;
        width: 100%;
        max-width: 100%;
        padding-left: 0;
        padding-right: 0;
    }

    body > table > tbody > tr > td > table,
    body > table > tbody > tr > td > table > tbody,
    body > table > tbody > tr > td > table > tbody > tr,
    body > table > tbody > tr > td > table > tbody > tr > td {
        display: block;
        width: 100%;
        max-width: 100%;
        overflow-x: hidden;
        padding-left: 0;
        padding-right: 0;
    }
}

} /* end @layer components (mobile overrides) */
